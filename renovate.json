{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "assignees": [
    "@mazrean"
  ],
  "commitMessagePrefix": "chore(deps):",
  "customManagers": [
    {
      "customType": "jsonata",
      "fileFormat": "toml",
      "datasourceTemplate": "github-tags",
      "versioningTemplate": "semver-coerced",
      "managerFilePatterns": [
        "(^|/)\\.skillspkg\\.toml$"
      ],
      "matchStrings": [
        "skills[source = \"git\" and $startsWith(url, \"https://github.com/\")].{\"depName\": $replace($substringAfter(url, \"https://github.com/\"), /\\.git$/, \"\"), \"currentValue\": version}"
      ]
    },
    {
      "customType": "jsonata",
      "fileFormat": "toml",
      "datasourceTemplate": "go",
      "managerFilePatterns": [
        "(^|/)\\.skillspkg\\.toml$"
      ],
      "matchStrings": [
        "skills[source = \"go-mod\" and version != \"\"].{\"depName\": url, \"currentValue\": version}"
      ]
    }
  ],
  "extends": [
    "config:recommended",
    ":dependencyDashboard"
  ],
  "labels": [
    "dependencies"
  ],
  "packageRules": [
    {
      "matchCategories": [
        "golang"
      ],
      "minimumReleaseAge": "3 days"
    },
    {
      "description": "Group all Go dependencies",
      "matchDatasources": [
        "go"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "groupName": "all Go dependencies"
    },
    {
      "description": "Group all GitHub Actions dependencies",
      "matchManagers": [
        "github-actions"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "groupName": "all GitHub Actions dependencies"
    },
    {
      "description": "Separate PR for major updates",
      "matchUpdateTypes": [
        "major"
      ],
      "groupName": null,
      "automerge": false
    },
    {
      "description": "Auto-merge patch and minor updates",
      "matchUpdateTypes": [
        "patch",
        "minor"
      ],
      "automerge": false,
      "automergeType": "pr",
      "platformAutomerge": false
    }
  ],
  "prConcurrentLimit": 10,
  "reviewers": [
    "@mazrean"
  ],
  "schedule": [
    "before 4am on Monday"
  ],
  "semanticCommits": "enabled",
  "timezone": "Asia/Tokyo",
  "vulnerabilityAlerts": {
    "labels": [
      "security"
    ],
    "assignees": [
      "@mazrean"
    ]
  }
}
